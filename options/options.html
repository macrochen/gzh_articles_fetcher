<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>文章管理与对话</title>
  <link rel="stylesheet" href="options.css">
  <script src="lib/marked.min.js"></script>
</head>
<body>
  <div class="main-container">
    <!-- 左侧区域 -->
    <div class="sidebar">
      <div class="settings-section collapsed">
        <div class="settings-header">
          <h2>Gemini API 设置</h2>
          <span class="toggle-icon">▼</span>
        </div>
        <div class="settings-content">
          <div>
            <label for="geminiApiKey">API Key:</label>
            <input type="password" id="geminiApiKey" placeholder="请输入您的 Google Gemini API Key">
          </div>
          <div>
            <label for="summaryPrompt">总结提示词:</label>
            <textarea id="summaryPrompt" rows="4" placeholder="例如：请总结以下内容" style="width: 100%;"></textarea>
          </div>
          <button id="saveSettings">保存设置</button>
        </div>
      </div>
      
      <h1>文章列表</h1>
      <div class="articles-list" id="articlesList"></div>
      <div class="actions">
        <label><input type="checkbox" id="selectAll">全选</label>
        <button id="deleteSelected">删除选中</button>
        <button id="summarizeSelected">批量总结</button>
        <button id="exportToDrive">全部导出到 Google Drive</button>
      </div>
    </div>

    <!-- 右侧聊天区域 -->
    <div class="chat-container">
      <div class="chat-header" id="chatWindowTitle">与 Gemini 对话</div>
      <select id="articleDropdown" class="article-dropdown">
        <option value="">-- 选择文章开始对话 --</option>
      </select>
      <div class="chat-history" id="chatHistory">
        <!-- 聊天记录将显示在这里 -->
      </div>
      <div class="chat-input">
        <select id="presetPrompts">
          <option value="">-- 选择预设提示词 --</option>
          <option value="总结内容要求：
          - 快速提炼核心观点
          - 保留关键细节
          - 口语化表达
          - 根据文章类型调整侧重点
          - 对疑问句标题直接回答">总结</option>
          <option value="对这篇文章进行批判性思考，指出其中的优缺点和潜在偏见">批判性思考</option>
          <option value="列出这篇文章中的所有数据和统计信息">列出数据</option>
          <option value="总结这篇文章中提到的案例或故事">列出案例</option>
          <option value="提取这篇文章中的金句或精彩观点">列出金句</option>
          <option value="找出这篇文章中新颖或反直觉的观点">新颖见解</option>
        </select>
        <textarea id="chatInput" placeholder="输入您的问题..."></textarea>
        <button id="sendChatMessage">发送</button>
      </div>
    </div>
  </div>
  <script src="options.js"></script>
</body>
</html>