<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>文章管理与对话</title>
  <link rel="stylesheet" href="options.css">
  <script src="lib/marked.min.js"></script>
</head>
<body>
  <div class="main-container">
    <!-- 左侧区域 -->
    <div class="sidebar">
      <div class="settings-section collapsed">
        <div class="settings-header">
          <h2>Gemini API 设置</h2>
          <span class="toggle-icon">▼</span>
        </div>
        <div class="settings-content">
          <div>
            <label for="geminiApiKey">API Key:</label>
            <input type="password" id="geminiApiKey" placeholder="请输入您的 Google Gemini API Key">
          </div>
          <div>
            <label for="summaryPrompt">总结提示词:</label>
            <textarea id="summaryPrompt" rows="4" placeholder="例如：请总结以下内容" style="width: 100%;"></textarea>
          </div>
          
          <div style="display: flex; gap: 10px; margin-top: 10px;">
            <button id="editPresetPrompts">编辑预设提示词</button>
            <button id="resetAllSettings">恢复默认设置</button>
            <button id="saveSettings">保存设置</button>
          </div>
        </div>
      </div>
      
      <h1>文章列表</h1>
      <div class="articles-list" id="articlesList"></div>
      <div class="actions">
        <label><input type="checkbox" id="selectAll">全选</label>
        <button id="deleteSelected">删除选中</button>
        <button id="summarizeSelected">批量总结</button>
        <button id="exportToDrive">全部导出到 Google Drive</button>
        <button id="copyToClipboard">导出到剪贴板</button>
      </div>
    </div>
    
    <!-- 分割线 -->
    <!-- <div class="resizer" id="dragMe"></div> -->
    
    <!-- 右侧聊天区域 -->
    <div class="chat-container">
      <div class="chat-header" id="chatWindowTitle">与 Gemini 对话</div>
      <select id="articleDropdown" class="article-dropdown">
        <option value="">-- 选择文章开始对话 --</option>
      </select>
      <div class="chat-history" id="chatHistory">
        <!-- 聊天记录将显示在这里 -->
      </div>
      <div class="chat-input">
        <div class="preset-prompts-container">
          <select id="presetPrompts" multiple>
            <option value="">-- 选择预设提示词 --</option>
          </select>
        </div>
        <textarea id="chatInput" placeholder="输入您的问题..."></textarea>
        <button id="sendChatMessage">发送</button>
      </div>
    </div>
  </div>
  <script src="options.js"></script>
</body>
</html>